webpackJsonp([6],{4:function(e,o,t){t("j1ja"),e.exports=t("UjEd")},"9Q6R":function(e,o,t){e.exports=t.p+"images/copyright.a1061f9.jpg"},"GA+V":function(e,o){},IXQP:function(e,o,t){"use strict";var n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,o=this._self._c||e;return o("div",{staticClass:"copy-right"},[o("img",{attrs:{src:t("9Q6R"),alt:""}})])}]};var a=t("VU/8")({name:"CopyRight"},n,!1,function(e){t("kT+l")},"data-v-699a0a41",null);o.a=a.exports},RBdt:function(e,o,t){"use strict";o.a=function(e,o){return{code:{mobileCN:/^1[0-9]{10}$/,mobileUSA:/^[0-9]{10,11}$/,mobileAUD:/^[0-9]{9,10}$/,mobileNZD:/^[0-9]{9,10}$/,mobileHK:/^[0-9]{8,9}$/,mobileMacau:/(^0\d{8}$)|(^6\d{7}$)/,mobileTW:/^[0-9]{9,10}$/,mobileUK:/(^0\d{10}$)|(^7\d{9}$)/,mobileFrance:/^[0-9]{9,10}$/,mobileGermany:/^[0-9]{10,11}$/,mobileBelgium:/(^0\d{9}$)|(^4\d{8}$)/,mobileItaly:/(^0\d{10}$)|(^3\d{9}$)/,mobileSpain:/(^0\d{9}$)|(^7\d{8}$)|(^6\d{8}$)/,mobileSwiss:/^[0-9]{9,10}$/,mobileHolland:/(^0\d{9}$)|(^6\d{8}$)/,mobileGreece:/(^0\d{10}$)|(6\d{9}$)/,mobileNorway:/(^0\d{8}$)|(^4\d{7}$)|(^9\d{7}$)/,mobileMalaysia:/^\d+$/}[e].test(o),msg:{mobileCN:"请输入正确的手机号(中国)",mobileUSA:"请输入正确的手机号(美国/加拿大)",mobileAUD:"请输入正确的手机号(澳大利亚)",mobileNZD:"请输入正确的手机号(新西兰)",mobileHK:"请输入正确的手机号(香港)",mobileMacau:"请输入正确的手机号(澳门)",mobileTW:"请输入正确的手机号(台湾)",mobileUK:"请输入正确的手机号(英国)",mobileFrance:"请输入正确的手机号(法国)",mobileGermany:"请输入正确的手机号(德国)",mobileBelgium:"请输入正确的手机号(比利时)",mobileItaly:"请输入正确的手机号(意大利)",mobileSpain:"请输入正确的手机号(西班牙)",mobileSwiss:"请输入正确的手机号(瑞士)",mobileHolland:"请输入正确的手机号(荷兰)",mobileGreece:"请输入正确的手机号(希腊)",mobileNorway:"请输入正确的手机号(挪威)",mobileMalaysia:"请输入正确的手机号(马来西亚)"}[e]}}},RUOo:function(e,o){},SJeH:function(e,o){},U9Zw:function(e,o,t){"use strict";o.a=[{key:"mobileCN",name:"中国",code:"86"},{key:"mobileUSA",name:"美国/加拿大",code:"1"},{key:"mobileAUD",name:"澳大利亚",code:"61"},{key:"mobileNZD",name:"新西兰",code:"64"},{key:"mobileHK",name:"香港",code:"852"},{key:"mobileMacau",name:"澳门",code:"853"},{key:"mobileTW",name:"台湾",code:"886"},{key:"mobileUK",name:"英国",code:"44"},{key:"mobileFrance",name:"法国",code:"33"},{key:"mobileGermany",name:"德国",code:"49"},{key:"mobileBelgium",name:"比利时",code:"32"},{key:"mobileItaly",name:"意大利",code:"39"},{key:"mobileSpain",name:"西班牙",code:"34"},{key:"mobileSwiss",name:"瑞士",code:"41"},{key:"mobileHolland",name:"荷兰",code:"31"},{key:"mobileGreece",name:"希腊",code:"30"},{key:"mobileNorway",name:"挪威",code:"47"},{key:"mobileMalaysia",name:"马来西亚",code:"0060"}]},UjEd:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("7+uW"),a=t("Dd8w"),r=t.n(a),i=t("NYxO"),s=t("VXLi"),c=t("IXQP"),l={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"bottom"},[1===e.loginType?t("span",{on:{click:e.toggle}},[e._v(e._s(1===e.loginType?"使用邮箱登录":"使用手机登录"))]):e._e(),e._v(" "),e._m(0)])},staticRenderFns:[function(){var e=this.$createElement,o=this._self._c||e;return o("p",[o("a",{attrs:{href:"//app.lulutrip.com/member/find_pwd"}},[this._v("忘记密码")]),this._v(" "),o("a",{staticClass:"right",attrs:{href:"//app.lulutrip.com/member/register"}},[this._v("注册账号")])])}]};var m=t("VU/8")({name:"Bottom",props:["changeState","loginType"],methods:{toggle:function(){this.changeState({key:"loginType",value:1===this.loginType?2:1})}}},l,!1,function(e){t("okiD")},"data-v-3c194cd6",null).exports,u=t("U9Zw"),d=t("RBdt"),p={name:"Phone",data:function(){return{phoneCode:u.a,phoneerror:!1,passerror:!1}},props:["loginType","changeState","getAuthcode","ajaxLogin","loading","phoneForm","getAuthcodeSuccess","phoneError"],computed:{phoneType:function(){var e=this;return u.a.find(function(o){return o.code===e.phoneForm.areacode})||{}}},methods:{submitLogin:function(){var e=this.phoneForm,o=e.email,t=e.areacode,n=e.password,a=u.a.find(function(e){return e.code===t}),r=Object(d.a)(a.key,o);return r.code?(this.phoneerror=!1,n?(this.passerror=!1,void this.ajaxLogin()):(this.changeState({key:"phoneError",value:"请输入密码(6-16位字母数字)！"}),void(this.passerror=!0))):(this.changeState({key:"phoneError",value:r.msg}),void(this.phoneerror=!0))}}},h={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"phone"},[t("form",[t("div",{class:{group:!0,tel:!0,error:e.phoneerror}},[t("div",{staticClass:"code"},[t("span",[e._v(e._s(e.phoneType.name)+"+"+e._s(e.phoneType.code))]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.phoneForm.areacode,expression:"phoneForm.areacode"}],on:{change:function(o){var t=Array.prototype.filter.call(o.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.phoneForm,"areacode",o.target.multiple?t:t[0])}}},e._l(e.phoneCode,function(o,n){return t("option",{key:n,domProps:{value:o.code}},[e._v("\n            +"+e._s(o.code)+" "+e._s(o.name)+"\n          ")])}))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.phoneForm.email,expression:"phoneForm.email",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"请输入手机号码"},domProps:{value:e.phoneForm.email},on:{input:function(o){o.target.composing||e.$set(e.phoneForm,"email",e._n(o.target.value))},blur:function(o){e.$forceUpdate()}}})]),e._v(" "),t("div",{class:{group:!0,error:e.passerror}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneForm.password,expression:"phoneForm.password"}],attrs:{type:"password",autocomplete:"no",placeholder:"请输入密码（6-16位字母数字）"},domProps:{value:e.phoneForm.password},on:{input:function(o){o.target.composing||e.$set(e.phoneForm,"password",o.target.value)}}})]),e._v(" "),t("div",{staticClass:"error-msg"},[e._v(e._s(e.phoneError))]),e._v(" "),e.loading?t("div",{staticClass:"btn"},[e._v("登录中...")]):t("div",{staticClass:"btn",attrs:{id:"qqVerification"},on:{click:e.submitLogin}},[e._v("登录")])]),e._v(" "),t("transition",{attrs:{name:"fade"}},[e.getAuthcodeSuccess?t("div",{staticClass:"send-success"},[e._v("发送成功")]):e._e()])],1)},staticRenderFns:[]};var g=t("VU/8")(p,h,!1,function(e){t("SJeH")},"data-v-f5579934",null).exports,v={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"email"},[t("form",[t("div",{class:{group:!0,error:e.emailerror}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.emailForm.email,expression:"emailForm.email"}],attrs:{type:"text",placeholder:"请输入邮箱"},domProps:{value:e.emailForm.email},on:{input:function(o){o.target.composing||e.$set(e.emailForm,"email",o.target.value)}}})]),e._v(" "),t("div",{class:{group:!0,error:e.passerror}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.emailForm.password,expression:"emailForm.password"}],attrs:{type:"password",autocomplete:"no",placeholder:"请输入密码(6-16位字母数字)"},domProps:{value:e.emailForm.password},on:{input:function(o){o.target.composing||e.$set(e.emailForm,"password",o.target.value)}}})]),e._v(" "),t("div",{staticClass:"error-msg"},[e._v(e._s(e.emailError))]),e._v(" "),e.loading?t("div",{staticClass:"btn"},[e._v("登录中...")]):t("div",{staticClass:"btn",on:{click:e.submitLogin}},[e._v("登录")])])])},staticRenderFns:[]};var f=t("VU/8")({name:"Email",data:function(){return{emailerror:!1,passerror:!1}},props:["emailForm","ajaxLogin","loading","emailError","changeState"],methods:{submitLogin:function(){var e=this.emailForm,o=e.email,t=e.password;return e.repassword,/^\w+([-.]\w+)*@\w+([-]\w+)*\.(\w+([-]\w+)*\.)*[a-z]{2,3}$/.test(o)?(this.emailerror=!1,t?(this.passerror=!1,void this.ajaxLogin()):(this.changeState({key:"emailError",value:"请输入密码(6-16位字母数字)！"}),void(this.passerror=!0))):(this.changeState({key:"emailError",value:"请输入正确的邮箱地址！"}),void(this.emailerror=!0))}}},v,!1,function(e){t("RUOo")},"data-v-2a931b22",null).exports,b={name:"App",components:{SimpleHeader:s.a,Bottom:m,Phone:g,Email:f,CopyRight:c.a},computed:r()({},Object(i.e)({loginType:function(e){return e.loginType},loading:function(e){return e.loading},phoneForm:function(e){return e.phoneForm},emailForm:function(e){return e.emailForm},getAuthcodeSuccess:function(e){return e.getAuthcodeSuccess},phoneError:function(e){return e.phoneError},emailError:function(e){return e.emailError},loginSuccess:function(e){return e.loginSuccess}})),methods:r()({},Object(i.d)({changeState:"CHANGE_STATE"}),Object(i.b)({getAuthcode:"getAuthcode",ajaxLogin:"ajaxLogin"}))},_={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"login"},[t("div",{staticClass:"content"},[t("SimpleHeader"),e._v(" "),t("transition",{attrs:{name:"fade"}},[1===e.loginType?t("Phone",{attrs:{"login-type":e.loginType,"change-state":e.changeState,"get-authcode":e.getAuthcode,"ajax-login":e.ajaxLogin,loading:e.loading,"phone-form":e.phoneForm,"get-authcode-success":e.getAuthcodeSuccess,"phone-error":e.phoneError}}):t("Email",{attrs:{"email-form":e.emailForm,"ajax-login":e.ajaxLogin,"email-error":e.emailError,"change-state":e.changeState}})],1),e._v(" "),t("Bottom",{attrs:{"login-type":e.loginType,"change-state":e.changeState}}),e._v(" "),e.loginSuccess?t("div",{staticClass:"success"},[e._v("登录成功，跳转中...")]):e._e()],1),e._v(" "),t("CopyRight")],1)},staticRenderFns:[]};var y=t("VU/8")(b,_,!1,function(e){t("iRCH")},"data-v-cfdf105e",null).exports,w=t("Xxa5"),E=t.n(w),S=t("exGp"),C=t.n(S),j=t("gyMJ"),k=t("bOdI"),T=t.n(k)()({},"CHANGE_STATE",function(e,o){e[o.key]=o.value}),$=j.a.ajaxLogin,F={ajaxLogin:function(e){var o=this,t=e.commit,n=e.state;return C()(E.a.mark(function e(){var a,r,i,s,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.loginType,r=n.phoneForm,i=n.emailForm,s=1===a?r:i,t("CHANGE_STATE",{key:"loading",value:!0}),t("CHANGE_STATE",{key:1===a?"phoneError":"emailError",value:null}),e.next=6,$(s);case 6:1===(c=e.sent).flag?(t("CHANGE_STATE",{key:"loginSuccess",value:!0}),setTimeout(function(){var e=c.direct_url||"//app.lulutrip.com/my/home";e.indexOf("memeber/login")>-1&&(e="//app.lulutrip.com/my/home"),location.href=e},1e3)):t("CHANGE_STATE",{key:1===a?"phoneError":"emailError",value:"登录失败，"+c.msg}),t("CHANGE_STATE",{key:"loading",value:!1});case 9:case"end":return e.stop()}},e,o)}))()}},x=t("GA+V"),A=t.n(x);n.default.use(i.a);var U=new i.a.Store({state:{loginType:1,loading:!1,phoneForm:{email:"",password:"",areacode:"86"},emailForm:{email:"",password:""},getAuthcodeSuccess:!1,loginSuccess:!1,emailError:"",phoneError:""},actions:F,getters:A.a,mutations:T});t("pyoj");n.default.config.productionTip=!1,new n.default({el:"#app",store:U,components:{App:y},template:"<App/>"})},VXLi:function(e,o,t){"use strict";var n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,o=this._self._c||e;return o("div",{staticClass:"simple-header"},[o("a",{attrs:{href:"//app.lulutrip.com"}},[o("span")])])}]};var a=t("VU/8")({name:"SimpleHeader"},n,!1,function(e){t("gQK3")},"data-v-d768cc30",null);o.a=a.exports},gQK3:function(e,o){},gyMJ:function(e,o,t){"use strict";var n={};t.d(n,"getAuthcode",function(){return c}),t.d(n,"phoneRegister",function(){return l}),t.d(n,"emailRegister",function(){return m}),t.d(n,"ajaxLogin",function(){return u}),t.d(n,"ajaxSmsLogin",function(){return d}),t.d(n,"checkSms",function(){return p}),t.d(n,"sendEmail",function(){return h}),t.d(n,"tencentCheck",function(){return g}),t.d(n,"resetPwd",function(){return v});var a=t("Dd8w"),r=t.n(a),i=t("Vo7i"),s=location.href.indexOf("www.lulutrip.com/m")>-1?"www.lulutrip.com/m":"app.lulutrip.com",c=function(e){return Object(i.a)({url:"//"+s+"/publics/get_sms_authcode",method:"post",data:e})},l=function(e){return Object(i.a)({url:"//"+s+"/member/phone_register",method:"post",headers:{"Content-Type":"application/json"},data:e})},m=function(e){return Object(i.a)({url:"//"+s+"/member/ajax_register",method:"post",headers:{"Content-Type":"application/json"},data:e})},u=function(e){return Object(i.a)({url:"//"+s+"/member/ajax_login",method:"post",headers:{"Content-Type":"application/json"},data:e})},d=function(e){return Object(i.a)({url:"//"+s+"/member/ajax_login_via_sms",method:"post",headers:{"Content-Type":"application/json"},data:e})},p=function(e){return Object(i.a)({url:"//"+s+"/publics/check_sms_authcode",method:"post",headers:{"Content-Type":"application/json"},data:e})},h=function(e){return Object(i.a)({url:"//"+s+"/user/sendCheckEmail",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(e){var o="";for(var t in e)o+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&";return o}],data:e})},g=function(e){return Object(i.a)({url:"//"+s+"/publics/check_tencent_captcha",method:"post",headers:{"Content-Type":"application/json"},data:e})},v=function(e){return Object(i.a)({url:"//"+s+"/member/ajax_reset_pwd",method:"post",headers:{"Content-Type":"application/json"},data:e})},f=r()({},n);o.a=f},iRCH:function(e,o){},"kT+l":function(e,o){},okiD:function(e,o){}},[4]);
//# sourceMappingURL=member-login.entry.js.map