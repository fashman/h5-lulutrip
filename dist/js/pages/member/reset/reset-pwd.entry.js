webpackJsonp([7],{6:function(e,t,r){r("j1ja"),e.exports=r("CF2+")},"9Q6R":function(e,t,r){e.exports=r.p+"images/copyright.a1061f9.jpg"},"CF2+":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("7+uW"),n=r("Dd8w"),s=r.n(n),o=r("NYxO"),c=r("VXLi"),i=r("fR/t"),u={name:"Reset",data:function(){return{passerror:!1,passcheckerror:!1}},props:["loading","resetPwd","changeState","formData","error","resetSuccess"],methods:{submit:function(){var e=this.formData,t=e.password,r=e.repassword;if(!t)return this.changeState({key:"error",value:"请输入密码！"}),void(this.passerror=!0);if(this.passerror=!1,t!==r)return this.changeState({key:"error",value:"两次密码输入不一致，请重试！"}),void(this.passcheckerror=!0);this.passcheckerror=!1;var a=Object(i.a)("email")||"",n=Object(i.a)("phone")||"",s=Object(i.a)("areacode")||"";a||n&&s?this.resetPwd({email:a,phone:n,areacode:s}):this.changeState({key:"error",value:"您的URL地址有问题！"})},handleYsf:function(){ysf&&ysf.open({templateId:2501631})}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reset"},[r("form",[r("div",{class:{group:!0,error:e.passerror}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:"请输入密码（6-16位字母数字）"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}})]),e._v(" "),r("div",{class:{group:!0,error:e.passcheckerror}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.repassword,expression:"formData.repassword"}],attrs:{type:"password",placeholder:"请确定密码（6-16位字母数字）"},domProps:{value:e.formData.repassword},on:{input:function(t){t.target.composing||e.$set(e.formData,"repassword",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"error-msg"},[e._v(e._s(e.error))]),e._v(" "),e.loading?r("div",{staticClass:"btn"},[e._v("重置密码...")]):r("div",{staticClass:"btn",on:{click:e.submit}},[e._v("重置密码")])]),e._v(" "),r("div",{staticClass:"bottom"},[r("a",{on:{click:e.handleYsf}},[e._v("在线客服")]),e._v(" "),r("a",{staticClass:"right",attrs:{href:"tel:4008218973"}},[e._v("400-821-8973")])]),e._v(" "),e.resetSuccess?r("div",{staticClass:"send-success"},[e._v("发送成功")]):e._e()])},staticRenderFns:[]};var p=r("VU/8")(u,d,!1,function(e){r("hmiQ")},"data-v-979805ee",null).exports,l=r("IXQP"),m={name:"App",components:{SimpleHeader:c.a,Reset:p,CopyRight:l.a},computed:s()({},Object(o.e)({loading:function(e){return e.loading},error:function(e){return e.error},formData:function(e){return e.formData},resetSuccess:function(e){return e.resetSuccess}})),methods:s()({},Object(o.d)({changeState:"CHANGE_STATE"}),Object(o.b)({resetPwd:"resetPwd"}))},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"reset"},[r("div",{staticClass:"content"},[r("SimpleHeader"),e._v(" "),r("Reset",{attrs:{"reset-pwd":e.resetPwd,loading:e.loading,changeState:e.changeState,formData:e.formData,error:e.error,"reset-success":e.resetSuccess}})],1),e._v(" "),r("CopyRight")],1)},staticRenderFns:[]};var h=r("VU/8")(m,f,!1,function(e){r("utYI")},"data-v-2781d887",null).exports,v=r("Xxa5"),g=r.n(v),_=r("exGp"),w=r.n(_),C=r("gyMJ"),j=r("bOdI"),b=r.n(j)()({},"CHANGE_STATE",function(e,t){e[t.key]=t.value}),y=C.a.resetPwd,S={resetPwd:function(e,t){var r=this,a=e.commit,n=e.state;return w()(g.a.mark(function e(){var o,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a("CHANGE_STATE",{key:"loading",value:!0}),o=s()({password:n.formData.password},t),e.next=4,y(o);case 4:1===(c=e.sent).flag?(a("CHANGE_STATE",{key:"resetSuccess",value:!0}),setTimeout(function(){var e=location.href.indexOf("www.lulutrip.com/m")>-1?"www.lulutrip.com/m":"app.lulutrip.com";location.href="//"+e+"/my/home"},1e3)):a("CHANGE_STATE",{key:"error",value:"重置失败，"+c.msg}),a("CHANGE_STATE",{key:"loading",value:!1});case 7:case"end":return e.stop()}},e,r)}))()}},x=r("Gs2n"),T=r.n(x);a.default.use(o.a);var k=new o.a.Store({state:{loading:!1,formData:{password:"",repassword:""},error:"",resetSuccess:!1},actions:S,getters:T.a,mutations:b});r("pyoj");a.default.config.productionTip=!1,new a.default({el:"#app",store:k,components:{App:h},template:"<App/>"})},Gs2n:function(e,t){},IXQP:function(e,t,r){"use strict";var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"copy-right"},[t("img",{attrs:{src:r("9Q6R"),alt:""}})])}]};var n=r("VU/8")({name:"CopyRight"},a,!1,function(e){r("kT+l")},"data-v-699a0a41",null);t.a=n.exports},VXLi:function(e,t,r){"use strict";var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"simple-header"},[t("a",{attrs:{href:"//app.lulutrip.com"}},[t("span")])])}]};var n=r("VU/8")({name:"SimpleHeader"},a,!1,function(e){r("gQK3")},"data-v-d768cc30",null);t.a=n.exports},"fR/t":function(e,t,r){"use strict";t.a=function(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null}},gQK3:function(e,t){},gyMJ:function(e,t,r){"use strict";var a={};r.d(a,"getAuthcode",function(){return i}),r.d(a,"phoneRegister",function(){return u}),r.d(a,"emailRegister",function(){return d}),r.d(a,"ajaxLogin",function(){return p}),r.d(a,"ajaxSmsLogin",function(){return l}),r.d(a,"checkSms",function(){return m}),r.d(a,"sendEmail",function(){return f}),r.d(a,"tencentCheck",function(){return h}),r.d(a,"resetPwd",function(){return v});var n=r("Dd8w"),s=r.n(n),o=r("Vo7i"),c=location.href.indexOf("www.lulutrip.com/m")>-1?"www.lulutrip.com/m":"app.lulutrip.com",i=function(e){return Object(o.a)({url:"//"+c+"/publics/get_sms_authcode",method:"post",data:e})},u=function(e){return Object(o.a)({url:"//"+c+"/member/phone_register",method:"post",headers:{"Content-Type":"application/json"},data:e})},d=function(e){return Object(o.a)({url:"//"+c+"/member/ajax_register",method:"post",headers:{"Content-Type":"application/json"},data:e})},p=function(e){return Object(o.a)({url:"//"+c+"/member/ajax_login",method:"post",headers:{"Content-Type":"application/json"},data:e})},l=function(e){return Object(o.a)({url:"//"+c+"/member/ajax_login_via_sms",method:"post",headers:{"Content-Type":"application/json"},data:e})},m=function(e){return Object(o.a)({url:"//"+c+"/publics/check_sms_authcode",method:"post",headers:{"Content-Type":"application/json"},data:e})},f=function(e){return Object(o.a)({url:"//"+c+"/user/sendCheckEmail",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(e){var t="";for(var r in e)t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])+"&";return t}],data:e})},h=function(e){return Object(o.a)({url:"//"+c+"/publics/check_tencent_captcha",method:"post",headers:{"Content-Type":"application/json"},data:e})},v=function(e){return Object(o.a)({url:"//"+c+"/member/ajax_reset_pwd",method:"post",headers:{"Content-Type":"application/json"},data:e})},g=s()({},a);t.a=g},hmiQ:function(e,t){},"kT+l":function(e,t){},utYI:function(e,t){}},[6]);
//# sourceMappingURL=reset-pwd.entry.js.map